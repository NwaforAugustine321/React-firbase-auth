(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(51)},51:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(26),l=a.n(c),s=a(28),o=a(8),i=a(34),m=a(9),u=i.a({apiKey:"AIzaSyAC8zPOyzBRSqf4kZyhPwuIcYal-PUGigQ",authDomain:"reactschooldatamanagment.firebaseapp.comm",databaseURL:"https://reactschooldatamanagment-default-rtdb.firebaseio.com",projectId:"reactschooldatamanagment",storageBucket:'reactschooldatamanagment.appspot.com"',messagingSenderId:"150194931911",appId:"1:150194931911:web:f0a67a8efcb8003da656e2",measurementId:"G-FN2466CDR9"}),b=a(13),p=r.a.createContext(),d=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(b.a)(a,2),l=c[0],s=c[1];return Object(n.useEffect)(function(){Object(m.i)(Object(m.e)(),function(e){s(e)})},[]),r.a.createElement(p.Provider,{value:{currentUser:l}},t)},f=function(){var e=Object(n.useContext)(p).currentUser;return r.a.createElement("div",{className:"container-sm vh-100"},r.a.createElement("div",{className:"d-flex justify-content-center h-100 w-60 align-items-center"},r.a.createElement("div",{className:"d-flex align-items-center flex-column",style:{width:"60%"}},r.a.createElement("h1",null,"Home"),r.a.createElement("form",{style:{width:"60%"}},r.a.createElement("fieldset",{disabled:!0,className:"mb-3"},r.a.createElement("input",{disable:!0,type:"text",className:"form-control mb-3",placeholder:e.displayName}),r.a.createElement("input",{disable:!0,type:"email",className:"form-control",placeholder:e.email})),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return u.auth().signOut()}},"Sign out")))))},h=a(0),v=a.n(h),E=a(1),w=a(16),y=Object(o.g)(function(e){var t=e.history,a=Object(m.e)(),c=Object(n.useState)(!1),l=Object(b.a)(c,2),s=l[0],o=l[1],i=Object(n.useContext)(p).currentUser,u=Object(n.useState)(null),d=Object(b.a)(u,2),f=d[0],h=d[1];Object(n.useEffect)(function(){h(new m.c("recaptcha-container-id",{size:"invisible",callback:function(e){}},a)),o(!1)},[s,a]);var y=function(){var e=Object(E.a)(v.a.mark(function e(n){var r,c,l,s,o,u,b;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=n.target.elements,c=r.email,l=r.password,e.prev=2,e.next=5,Object(m.k)(a,c.value.toLowerCase(),l.value);case 5:g(i),e.next=26;break;case 8:if(e.prev=8,e.t0=e.catch(2),"auth/multi-factor-auth-required"!==e.t0.code){e.next=25;break}if((s=Object(m.f)(a,e.t0)).hints[0].factorId!==m.b.FACTOR_ID){e.next=23;break}return o=new m.a(a),u={multiFactorHint:s.hints[0],session:s.session},e.next=17,o.verifyPhoneNumber(u,f);case 17:b=e.sent,t.push("/otp/".concat(b,"/login")),window.localStorage.setItem("sessionErrorResolver",JSON.stringify(e.t0)),f.clear(),e.next=23;break;case 23:e.next=26;break;case 25:"auth/wrong-password"===e.t0.code&&Object(w.b)("Wrong password or email");case 26:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(E.a)(v.a.mark(function e(n){var r,c,l,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.h)(n).getSession();case 3:return r=e.sent,c=new m.a(a),l={phoneNumber:"+23407031045066",session:r},e.next=8,c.verifyPhoneNumber(l,f);case 8:s=e.sent,t.push("/otp/".concat(s,"/signup")),f.clear(),o(!0),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),Object(w.b)(e.t0.message);case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container-sm vh-100"},r.a.createElement("div",{className:"d-flex justify-content-center h-100 w-60 align-items-center"},r.a.createElement("div",{className:"d-flex align-items-center flex-column",style:{width:"60%"}},r.a.createElement("h1",{className:"mb-5"},"Login"),r.a.createElement("form",{onSubmit:y,style:{width:"60%"}},r.a.createElement("label",{htmlFor:"email",className:"form-label mw-100 d-block mb-3"},"Email",r.a.createElement("input",{type:"email",id:"email",className:"form-control",placeholder:"Email"})),r.a.createElement("label",{htmlFor:"password",className:"form-label mw-100 d-block mb-3"},"Password",r.a.createElement("input",{type:"password",id:"password",className:"form-control",placeholder:"Password"})),r.a.createElement("div",{className:"d-flex gap-1"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",id:"login_button"},"Login"),r.a.createElement("button",{type:"button",onClick:function(){t.push("/signup")},className:"btn btn-primary"},"SignUp"))),r.a.createElement("div",{id:"recaptcha-container-id"}))))}),g=Object(o.g)(function(e){e.history;var t=Object(n.useCallback)(function(){var e=Object(E.a)(v.a.mark(function e(t){var a,n,r,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.elements,n=a.email,r=a.password,c=a.userName,e.prev=2,e.next=5,Object(m.d)(Object(m.e)(),n.value.toLowerCase(),r.value).then(function(){var e=Object(E.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.m)(t.user,{displayName:c.value});case 2:a={url:"http://localhost:3000/verify?email=".concat(n.value.toLowerCase()),handleCodeInApp:!0},Object(m.j)(Object(m.e)(),n.value.toLowerCase(),a).then(function(){Object(w.b)("Verification email sent")}).catch(function(e){Object(w.b)(e.message)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),Object(w.b)(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t){return e.apply(this,arguments)}}(),[]);return r.a.createElement("div",{className:"container-sm vh-100"},r.a.createElement("div",{className:"d-flex justify-content-center h-100 w-60 align-items-center"},r.a.createElement("div",{className:"d-flex align-items-center flex-column",style:{width:"60%"}},r.a.createElement("h1",{className:"mb-5"},"Sign up"),r.a.createElement("form",{onSubmit:t,style:{width:"60%"}},r.a.createElement("div",{className:"d-flex gap-2 justify-content-between",style:{width:"100%"}},r.a.createElement("label",{htmlFor:"userName",className:"form-label d-block mb-3",style:{width:"50%"}},"UserName",r.a.createElement("input",{type:"text",id:"userName",className:"form-control",placeholder:"UserName"})),r.a.createElement("label",{htmlFor:"email",className:"form-label  d-block mb-3",style:{width:"50%"}},"Email",r.a.createElement("input",{type:"email",id:"email",className:"form-control",placeholder:"Email"}))),r.a.createElement("label",{htmlFor:"password",className:"form-label mw-100 d-block mb-3"},"Password",r.a.createElement("input",{type:"password",id:"password",className:"form-control",placeholder:"Password"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",id:"signup-button"},"Submit")))))}),j=a(36),O=Object(o.g)(function(e){var t=e.history,a=Object(m.e)(),n=Object(j.useCallback)(p).currentUser;return n&&n.emailVerified?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:"container-sm vh-100"},r.a.createElement("div",{className:"d-flex justify-content-center h-100 w-60 align-items-center"},r.a.createElement("div",{className:"d-flex align-items-center flex-column",style:{width:"60%"}},r.a.createElement("h1",{className:"mb-5"},"Thanks for verifying Your account"),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){if(Object(m.g)(a,window.location.href)){var e=window.location.search.split("&")[0].split("=")[1];e||t.push("/login"),Object(m.l)(a,e,window.location.href).then(function(){t.push("/login")}).catch(function(e){Object(w.b)(e.message)})}}},"Verify"))))}),x=Object(o.g)(function(e){var t=e.history,a=Object(o.f)(),c=a.vfid,l=a.type,s=Object(n.useContext)(p).currentUser,i=function(){var e=Object(E.a)(v.a.mark(function e(a){var n,r,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=m.a.credential(c,a.value),r=m.b.assertion(n),"login"!==l){e.next=10;break}return o=Object(m.f)(Object(m.e)(),JSON.parse(window.localStorage.getItem("sessionErrorResolver"))),e.next=7,o.resolveSignIn(r);case 7:t.push("/"),e.next=13;break;case 10:return e.next=12,Object(m.h)(s).enroll(r,s.displayName);case 12:t.push("/");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),Object(w.b)(e.t0.message);case 18:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}();return s&&s.emailVerified?r.a.createElement("div",{className:"container-sm vh-100"},r.a.createElement("div",{className:"d-flex justify-content-center h-100 w-60 align-items-center"},r.a.createElement("div",{className:"d-flex align-items-center flex-column",style:{width:"60%"}},r.a.createElement("h1",null,"Verify Account"),r.a.createElement("form",{style:{width:"60%"},onSubmit:function(e){e.preventDefault();var t=e.target.elements.code;i(t)}},r.a.createElement("input",{type:"text",className:"form-control mb-3",id:"code",placeholder:"otp-code"}),r.a.createElement("button",{className:"btn btn-primary",id:"verify",type:"submit"},"Verify"))))):r.a.createElement(o.a,{to:"/login"})}),N=a(38),k=function(e){var t=e.component,a=Object(N.a)(e,["component"]),c=Object(n.useContext)(p).currentUser;return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))},S=function(){return r.a.createElement(d,null,r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(k,{exact:!0,path:"/",component:f}),r.a.createElement(o.b,{exact:!0,path:"/login",component:y}),r.a.createElement(o.b,{exact:!0,path:"/signup",component:g}),r.a.createElement(o.b,{exact:!0,path:"/otp/:vfid/:type",component:x}),r.a.createElement(o.b,{exact:!0,path:"/verify*",component:O}))),r.a.createElement(w.a,null))};a(50);l.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.84dd9210.chunk.js.map