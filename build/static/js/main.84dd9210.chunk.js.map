{"version":3,"sources":["firbaseConfig.js","container/Auth.js","components/Home.js","components/Login.js","components/SignUp.js","components/VerifyEmail.js","components/MultiFactorAuth.js","routes/PrivateRoute.js","App.js","index.js"],"names":["app","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","AuthContext","React","createContext","AuthProvider","_ref","children","_useState","useState","_useState2","Object","slicedToArray","currentUser","setCurrentUser","useEffect","onAuthStateChanged","getAuth","user","react_default","a","createElement","Provider","value","Home","useContext","className","style","width","disabled","disable","type","placeholder","displayName","email","onClick","auth","signOut","withRouter","history","reload","setReload","_useState3","_useState4","recaptchaVerifier","setRecaptchaVerifier","RecaptchaVerifier","size","callback","response","handleLogin","_ref2","asyncToGenerator","regenerator_default","mark","_callee","event","_event$target$element","password","resolver","phoneAuthProvider","phoneInfoOptions","id","wrap","_context","prev","next","preventDefault","target","elements","signInWithEmailAndPassword","toLowerCase","handleOtpSession","t0","code","getMultiFactorResolver","hints","factorId","PhoneMultiFactorGenerator","FACTOR_ID","PhoneAuthProvider","multiFactorHint","session","verifyPhoneNumber","sent","push","concat","window","localStorage","setItem","JSON","stringify","clear","toast","stop","_x","apply","this","arguments","_ref3","_callee2","multiFactorSession","_context2","multiFactor","getSession","phoneNumber","message","_x2","onSubmit","htmlFor","handleSignUp","useCallback","userName","createUserWithEmailAndPassword","then","actionCodeSettings","updateProfile","url","handleCodeInApp","sendSignInLinkToEmail","catch","error","emailVerified","react_router","to","isSignInWithEmailLink","location","href","search","split","signInWithEmailLink","params","useParams","vfid","verifyOtp","cred","multiFactorAssertion","credential","assertion","parse","getItem","resolveSignIn","enroll","PrivateRoute","RouteComponent","component","rest","objectWithoutProperties","assign","render","routeProps","App","Auth_AuthProvider","react_router_dom","routes_PrivateRoute","exact","path","Login","SignUp","AccountOTPVerification","VerifyAccount","react_toastify_esm","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.84dd9210.chunk.js","sourcesContent":["import * as firebase from 'firebase/app';\nimport 'firebase/auth';\n\nconst app = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n});\n\nexport default app;\n","import React, { useEffect, useState } from 'react';\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    onAuthStateChanged(getAuth(), (user) => {\n      setCurrentUser(user);\n      // setPending(false);\n    });\n  }, []);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        currentUser,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React from 'react';\nimport app from '../firbaseConfig';\nimport { useContext } from 'react';\nimport { AuthContext } from '../container/Auth.js';\n\nconst Home = () => {\n  const { currentUser } = useContext(AuthContext);\n\n  return (\n    <div className='container-sm vh-100'>\n      <div className='d-flex justify-content-center h-100 w-60 align-items-center'>\n        <div\n          className='d-flex align-items-center flex-column'\n          style={{ width: '60%' }}\n        >\n          <h1>Home</h1>\n\n          <form style={{ width: '60%' }}>\n            <fieldset disabled className='mb-3'>\n              <input\n                disable={true}\n                type='text'\n                className='form-control mb-3'\n                placeholder={currentUser.displayName}\n              />\n\n              <input\n                disable={true}\n                type='email'\n                className='form-control'\n                placeholder={currentUser.email}\n              />\n            </fieldset>\n\n            <button\n              className='btn btn-primary'\n              onClick={() => app.auth().signOut()}\n            >\n              Sign out\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { withRouter } from 'react-router';\nimport { AuthContext } from '../container/Auth.js';\nimport { toast } from 'react-toastify';\nimport {\n  getAuth,\n  RecaptchaVerifier,\n  PhoneAuthProvider,\n  signInWithEmailAndPassword,\n  multiFactor,\n  getMultiFactorResolver,\n  PhoneMultiFactorGenerator,\n} from 'firebase/auth';\n\nconst Login = ({ history }) => {\n  const auth = getAuth();\n  const [reload, setReload] = useState(false);\n  const { currentUser } = useContext(AuthContext);\n  const [recaptchaVerifier, setRecaptchaVerifier] = useState(null);\n\n  useEffect(() => {\n    setRecaptchaVerifier(\n      new RecaptchaVerifier(\n        'recaptcha-container-id',\n        {\n          size: 'invisible',\n          callback: function (response) {},\n        },\n        auth\n      )\n    );\n    setReload(false);\n  }, [reload, auth]);\n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n    const { email, password } = event.target.elements;\n\n    try {\n      await signInWithEmailAndPassword(\n        auth,\n        email.value.toLowerCase(),\n        password.value\n      );\n      handleOtpSession(currentUser);\n    } catch (error) {\n      if (error.code === 'auth/multi-factor-auth-required') {\n        const resolver = getMultiFactorResolver(auth, error);\n\n        if (\n          resolver.hints[0].factorId === PhoneMultiFactorGenerator.FACTOR_ID\n        ) {\n          const phoneAuthProvider = new PhoneAuthProvider(auth);\n\n          const phoneInfoOptions = {\n            multiFactorHint: resolver.hints[0],\n            session: resolver.session,\n          };\n\n          const id = await phoneAuthProvider.verifyPhoneNumber(\n            phoneInfoOptions,\n            recaptchaVerifier\n          );\n\n          history.push(`/otp/${id}/login`);\n          window.localStorage.setItem(\n            'sessionErrorResolver',\n            JSON.stringify(error)\n          );\n          recaptchaVerifier.clear();\n        } else {\n          // Unsupported second factor.\n        }\n      } else if (error.code === 'auth/wrong-password') {\n        toast('Wrong password or email');\n      }\n    }\n  };\n\n  const handleOtpSession = async (user) => {\n    try {\n      const multiFactorSession = await multiFactor(user).getSession();\n      const phoneAuthProvider = new PhoneAuthProvider(auth);\n\n      const phoneInfoOptions = {\n        phoneNumber: '+23407031045066',\n        session: multiFactorSession,\n      };\n\n      const id = await phoneAuthProvider.verifyPhoneNumber(\n        phoneInfoOptions,\n        recaptchaVerifier\n      );\n\n      history.push(`/otp/${id}/signup`);\n      recaptchaVerifier.clear();\n      setReload(true);\n    } catch (error) {\n      toast(error.message);\n    }\n  };\n\n  const handleRedirect = () => {\n    history.push('/signup');\n  };\n\n  return (\n    <div className='container-sm vh-100'>\n      <div className='d-flex justify-content-center h-100 w-60 align-items-center'>\n        <div\n          className='d-flex align-items-center flex-column'\n          style={{ width: '60%' }}\n        >\n          <h1 className='mb-5'>Login</h1>\n\n          <form onSubmit={handleLogin} style={{ width: '60%' }}>\n            <label htmlFor='email' className='form-label mw-100 d-block mb-3'>\n              Email\n              <input\n                type='email'\n                id='email'\n                className='form-control'\n                placeholder='Email'\n              />\n            </label>\n\n            <label\n              htmlFor='password'\n              className='form-label mw-100 d-block mb-3'\n            >\n              Password\n              <input\n                type='password'\n                id='password'\n                className='form-control'\n                placeholder='Password'\n              />\n            </label>\n\n            <div className='d-flex gap-1'>\n              <button\n                type='submit'\n                className='btn btn-primary'\n                id='login_button'\n              >\n                Login\n              </button>\n              <button\n                type='button'\n                onClick={() => {\n                  handleRedirect();\n                }}\n                className='btn btn-primary'\n              >\n                SignUp\n              </button>\n            </div>\n          </form>\n          <div id='recaptcha-container-id'></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(Login);\n","import { toast } from 'react-toastify';\nimport { withRouter } from 'react-router';\nimport React, { useCallback } from 'react';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  updateProfile,\n  sendSignInLinkToEmail,\n} from 'firebase/auth';\n\nconst SignUp = ({ history }) => {\n  const handleSignUp = useCallback(async (event) => {\n    event.preventDefault();\n\n    const { email, password, userName } = event.target.elements;\n\n    try {\n      await createUserWithEmailAndPassword(\n        getAuth(),\n        email.value.toLowerCase(),\n        password.value\n      ).then(async (response) => {\n        await updateProfile(response.user, {\n          displayName: userName.value,\n        });\n\n        const actionCodeSettings = {\n          url: `http://localhost:3000/verify?email=${email.value.toLowerCase()}`,\n          handleCodeInApp: true,\n        };\n\n        sendSignInLinkToEmail(\n          getAuth(),\n          email.value.toLowerCase(),\n          actionCodeSettings\n        )\n          .then(() => {\n            toast('Verification email sent');\n          })\n          .catch((error) => {\n            toast(error.message);\n          });\n      });\n    } catch (error) {\n      toast(error.message);\n    }\n  }, []);\n\n  return (\n    <div className='container-sm vh-100'>\n      <div className='d-flex justify-content-center h-100 w-60 align-items-center'>\n        <div\n          className='d-flex align-items-center flex-column'\n          style={{ width: '60%' }}\n        >\n          <h1 className='mb-5'>Sign up</h1>\n\n          <form onSubmit={handleSignUp} style={{ width: '60%' }}>\n            <div\n              className='d-flex gap-2 justify-content-between'\n              style={{ width: '100%' }}\n            >\n              <label\n                htmlFor='userName'\n                className='form-label d-block mb-3'\n                style={{ width: '50%' }}\n              >\n                UserName\n                <input\n                  type='text'\n                  id='userName'\n                  className='form-control'\n                  placeholder='UserName'\n                />\n              </label>\n\n              <label\n                htmlFor='email'\n                className='form-label  d-block mb-3'\n                style={{ width: '50%' }}\n              >\n                Email\n                <input\n                  type='email'\n                  id='email'\n                  className='form-control'\n                  placeholder='Email'\n                />\n              </label>\n            </div>\n\n            <label\n              htmlFor='password'\n              className='form-label mw-100 d-block mb-3'\n            >\n              Password\n              <input\n                type='password'\n                id='password'\n                className='form-control'\n                placeholder='Password'\n              />\n            </label>\n\n            <button\n              type='submit'\n              className='btn btn-primary'\n              id='signup-button'\n            >\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(SignUp);\n","import React from 'react';\nimport { toast } from 'react-toastify';\nimport { withRouter, Redirect } from 'react-router';\nimport { AuthContext } from '../container/Auth.js';\nimport { useCallback } from 'react/cjs/react.development.js';\nimport {\n  getAuth,\n  isSignInWithEmailLink,\n  signInWithEmailLink,\n} from 'firebase/auth';\n\nconst VerifyAccount = ({ history }) => {\n  const auth = getAuth();\n  const { currentUser } = useCallback(AuthContext);\n\n  const verifyAccountEmail = () => {\n    if (isSignInWithEmailLink(auth, window.location.href)) {\n      const email = window.location.search.split('&')[0].split('=')[1];\n      if (!email) {\n        history.push('/login');\n      }\n\n      signInWithEmailLink(auth, email, window.location.href)\n        .then(() => {\n          history.push('/login');\n        })\n        .catch((error) => {\n          toast(error.message);\n        });\n    }\n  };\n\n  return !currentUser || !currentUser.emailVerified ? (\n    <div className='container-sm vh-100'>\n      <div className='d-flex justify-content-center h-100 w-60 align-items-center'>\n        <div\n          className='d-flex align-items-center flex-column'\n          style={{ width: '60%' }}\n        >\n          <h1 className='mb-5'>Thanks for verifying Your account</h1>\n          <button className='btn btn-primary' onClick={verifyAccountEmail}>\n            Verify\n          </button>\n        </div>\n      </div>\n    </div>\n  ) : (\n    <Redirect to='/' />\n  );\n};\n\nexport default withRouter(VerifyAccount);\n","import React from 'react';\nimport { toast } from 'react-toastify';\nimport { useContext } from 'react';\nimport { withRouter } from 'react-router';\nimport { useParams } from 'react-router';\nimport { AuthContext } from '../container/Auth.js';\nimport {\n  PhoneAuthProvider,\n  multiFactor,\n  PhoneMultiFactorGenerator,\n  getMultiFactorResolver,\n  getAuth,\n} from 'firebase/auth';\nimport { Redirect } from 'react-router';\n\nconst AccountOTPVerification = ({ history }) => {\n  const params = useParams();\n  const { vfid, type } = params;\n  const { currentUser } = useContext(AuthContext);\n\n  const handleOTp = (event) => {\n    event.preventDefault();\n    const { code } = event.target.elements;\n    verifyOtp(code);\n  };\n\n  const verifyOtp = async (code) => {\n    try {\n      const cred = PhoneAuthProvider.credential(vfid, code.value);\n      const multiFactorAssertion = PhoneMultiFactorGenerator.assertion(cred);\n\n      if (type === 'login') {\n        const resolver = getMultiFactorResolver(\n          getAuth(),\n          JSON.parse(window.localStorage.getItem('sessionErrorResolver'))\n        );\n        await resolver.resolveSignIn(multiFactorAssertion);\n        history.push('/');\n      } else {\n        await multiFactor(currentUser).enroll(\n          multiFactorAssertion,\n          currentUser.displayName\n        );\n        history.push('/');\n      }\n    } catch (error) {\n      toast(error.message);\n    }\n  };\n\n  return !currentUser || !currentUser.emailVerified ? (\n    <Redirect to='/login' />\n  ) : (\n    <div className='container-sm vh-100'>\n      <div className='d-flex justify-content-center h-100 w-60 align-items-center'>\n        <div\n          className='d-flex align-items-center flex-column'\n          style={{ width: '60%' }}\n        >\n          <h1>Verify Account</h1>\n\n          <form style={{ width: '60%' }} onSubmit={handleOTp}>\n            <input\n              type='text'\n              className='form-control mb-3'\n              id='code'\n              placeholder={'otp-code'}\n            />\n\n            <button className='btn btn-primary' id='verify' type='submit'>\n              Verify\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(AccountOTPVerification);\n","import React, { useContext } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { AuthContext } from '../container/Auth';\n\nconst PrivateRoute = ({ component: RouteComponent, ...rest }) => {\n  const { currentUser } = useContext(AuthContext);\n  return (\n    <Route\n      {...rest}\n      render={(routeProps) =>\n        !!currentUser ? (\n          <RouteComponent {...routeProps} />\n        ) : (\n          <Redirect to={'/login'} />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport SignUp from './components/SignUp';\nimport VerifyAccount from './components/VerifyEmail';\nimport AccountOTPVerification from './components/MultiFactorAuth';\nimport { AuthProvider } from './container/Auth';\nimport PrivateRoute from './routes/PrivateRoute';\nimport { ToastContainer } from 'react-toastify';\n\nconst App = () => {\n  return (\n    <AuthProvider>\n      <Router>\n        <div>\n          <PrivateRoute exact path='/' component={Home} />\n          <Route exact path='/login' component={Login} />\n          <Route exact path='/signup' component={SignUp} />\n          <Route\n            exact\n            path='/otp/:vfid/:type'\n            component={AccountOTPVerification}\n          />\n          <Route exact path='/verify*' component={VerifyAccount} />\n        </div>\n      </Router>\n      <ToastContainer />\n    </AuthProvider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'react-toastify/dist/ReactToastify.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}